Я бы добавил всего три штриха для ещё более «жёсткой» похожести и бесшовного запуска в ComfyUI. Во-первых, в подготовку данных стоит вписать мульти-резолюционную «бакетизацию» по соотношениям сторон, чтобы избежать систематических растяжений при обучении и последующих сдвигов черт на широких/высоких кадрах; туда же — небольшой стресс-набор с окклюзиями (очки, шарф, рука у лица), чтобы валидация по ROC отражала реальные «дикие» условия, под которые потом и сработает автопереключатель на референс/поз-контроль. Во-вторых, зафиксируй единый стек для «лица»: какую именно face-ID-модель используешь для метрики и какую — в FaceID/IP-Adapter; лучше держать один и тот же эмбеддер и одинаковый препроцессинг (кроп/нормализация), иначе появится доменный разрыв и порог с ROC может не совпасть с реальным поведением адаптера. В-третьих, для ComfyUI прямо укажи, что адаптер применим «регионально» к области лица: либо маской (если есть поддержка в ноде), либо через отдельную ветку с блендингом — это уменьшает влияние адаптера на волосы и фон в «быстром» режиме и помогает сохранить текстуру кожи при высоких весах в «надёжном». Эти добавления не меняют архитектуру, а только уточняют реализацию в тех местах, где чаще всего теряют схожесть